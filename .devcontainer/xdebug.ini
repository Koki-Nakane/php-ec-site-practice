[xdebug]
; Lightweight default: only enable debug mode (omit 'develop' for less overhead)
; You can override at runtime with env: XDEBUG_MODE=debug,develop
xdebug.mode=debug

; VS Code PHP Debug listens on 9003 by default
xdebug.client_port=9003

; Use host gateway so it also works outside devcontainer (Docker Desktop etc.)
; Fallback to localhost if host-gateway unsupported.
xdebug.client_host=host.docker.internal

; Start debugger only when explicitly triggered (cookie/GET/POST/header)
; This avoids always-initializing Xdebug each request.
xdebug.start_with_request=trigger

; Optional performance tweak (default 256). Increase only if you hit nesting errors.
xdebug.max_nesting_level=256

; Logging disabled by default (uncomment for troubleshooting)
; xdebug.log=/var/www/html/xdebug.log
; xdebug.log_level=7

; QUICK USAGE NOTES:
; Trigger via browser cookie (set by most IDEs) or manual query param:
;   ?XDEBUG_SESSION=1
; Temporarily enable develop features for improved stack traces:
;   export XDEBUG_MODE=debug,develop
